{
  "version": 1,
  "generator": "rust/scripts/export_radix_trace.py",
  "cases": [
    {
      "name": "split_lock_evict",
      "ops": [
        {
          "op": "insert",
          "input_ids": [
            1,
            2,
            3,
            4
          ],
          "indices": [
            10,
            11,
            12,
            13
          ],
          "expect_prefix_len": 0,
          "expect_size": {
            "evictable_size": 4,
            "protected_size": 0
          }
        },
        {
          "op": "insert",
          "input_ids": [
            1,
            2,
            9
          ],
          "indices": [
            20,
            21,
            22
          ],
          "expect_prefix_len": 2,
          "expect_size": {
            "evictable_size": 5,
            "protected_size": 0
          }
        },
        {
          "op": "match",
          "slot": "a",
          "input_ids": [
            1,
            2,
            3,
            8
          ],
          "expect_cached_len": 3,
          "expect_indices": [
            10,
            11,
            12
          ],
          "expect_size": {
            "evictable_size": 5,
            "protected_size": 0
          }
        },
        {
          "op": "lock",
          "slot": "a",
          "unlock": false,
          "expect_size": {
            "evictable_size": 2,
            "protected_size": 3
          }
        },
        {
          "op": "match",
          "slot": "b",
          "input_ids": [
            1,
            2,
            9,
            7
          ],
          "expect_cached_len": 3,
          "expect_indices": [
            10,
            11,
            22
          ],
          "expect_size": {
            "evictable_size": 2,
            "protected_size": 3
          }
        },
        {
          "op": "lock",
          "slot": "b",
          "unlock": false,
          "expect_size": {
            "evictable_size": 1,
            "protected_size": 4
          }
        },
        {
          "op": "lock",
          "slot": "a",
          "unlock": true,
          "expect_size": {
            "evictable_size": 2,
            "protected_size": 3
          }
        },
        {
          "op": "evict",
          "size": 1,
          "expect_evicted": [
            13
          ],
          "expect_size": {
            "evictable_size": 1,
            "protected_size": 3
          }
        },
        {
          "op": "lock",
          "slot": "b",
          "unlock": true,
          "expect_size": {
            "evictable_size": 4,
            "protected_size": 0
          }
        },
        {
          "op": "evict",
          "size": 2,
          "expect_evicted": [
            12,
            22
          ],
          "expect_size": {
            "evictable_size": 2,
            "protected_size": 0
          }
        }
      ]
    },
    {
      "name": "shared_parent_and_reinsert",
      "ops": [
        {
          "op": "insert",
          "input_ids": [
            5,
            6,
            7
          ],
          "indices": [
            50,
            60,
            70
          ],
          "expect_prefix_len": 0,
          "expect_size": {
            "evictable_size": 3,
            "protected_size": 0
          }
        },
        {
          "op": "insert",
          "input_ids": [
            5,
            6,
            8
          ],
          "indices": [
            50,
            60,
            80
          ],
          "expect_prefix_len": 2,
          "expect_size": {
            "evictable_size": 4,
            "protected_size": 0
          }
        },
        {
          "op": "match",
          "slot": "c",
          "input_ids": [
            5,
            6,
            7,
            9
          ],
          "expect_cached_len": 3,
          "expect_indices": [
            50,
            60,
            70
          ],
          "expect_size": {
            "evictable_size": 4,
            "protected_size": 0
          }
        },
        {
          "op": "lock",
          "slot": "c",
          "unlock": false,
          "expect_size": {
            "evictable_size": 1,
            "protected_size": 3
          }
        },
        {
          "op": "evict",
          "size": 1,
          "expect_evicted": [
            80
          ],
          "expect_size": {
            "evictable_size": 0,
            "protected_size": 3
          }
        },
        {
          "op": "lock",
          "slot": "c",
          "unlock": true,
          "expect_size": {
            "evictable_size": 3,
            "protected_size": 0
          }
        },
        {
          "op": "evict",
          "size": 2,
          "expect_evicted": [
            70,
            50,
            60
          ],
          "expect_size": {
            "evictable_size": 0,
            "protected_size": 0
          }
        },
        {
          "op": "insert",
          "input_ids": [
            5,
            6,
            9
          ],
          "indices": [
            50,
            60,
            90
          ],
          "expect_prefix_len": 0,
          "expect_size": {
            "evictable_size": 3,
            "protected_size": 0
          }
        },
        {
          "op": "match",
          "slot": "d",
          "input_ids": [
            5,
            6,
            9,
            1
          ],
          "expect_cached_len": 3,
          "expect_indices": [
            50,
            60,
            90
          ],
          "expect_size": {
            "evictable_size": 3,
            "protected_size": 0
          }
        }
      ]
    }
  ]
}
